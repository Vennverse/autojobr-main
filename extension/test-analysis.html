<!DOCTYPE html>
<html>
<head>
    <title>AutoJobr Analysis Test</title>
</head>
<body>
    <h1>Senior Software Engineer</h1>
    <h2>Google Inc.</h2>
    <div class="job-description">
        We are looking for a Senior Software Engineer with expertise in JavaScript, React, Node.js, and Python. 
        The ideal candidate should have 5+ years of experience in full-stack development, knowledge of AWS, 
        Docker, and SQL databases. Experience with agile methodologies and team leadership is preferred.
        
        Requirements:
        - Bachelor's degree in Computer Science or related field
        - Strong problem-solving skills
        - Experience with RESTful APIs and microservices
        - Knowledge of Git version control
        - Excellent communication skills
    </div>
    
    <script src="smart-detector.js"></script>
    <script>
        // Test the analysis with mock data
        const detector = new SmartJobDetector();
        
        // Mock user profile
        detector.userProfile = {
            profile: {
                firstName: "John",
                lastName: "Doe", 
                jobTitle: "Full Stack Developer",
                summary: "Experienced software engineer with leadership skills"
            },
            skills: [
                { skill: "JavaScript" },
                { skill: "React" },
                { skill: "Node.js" },
                { skill: "Python" },
                { skill: "SQL" },
                { skill: "Git" },
                { skill: "AWS" }
            ],
            experience: [
                {
                    jobTitle: "Senior Developer",
                    company: "Tech Corp",
                    startDate: "2020-01-01",
                    endDate: null
                },
                {
                    jobTitle: "Software Engineer", 
                    company: "StartupCo",
                    startDate: "2018-01-01",
                    endDate: "2019-12-31"
                }
            ]
        };
        
        // Mock job data
        detector.jobData = {
            title: "Senior Software Engineer",
            company: "Google Inc.",
            description: document.querySelector('.job-description').textContent
        };
        
        // Run analysis
        const analysis = detector.performEnhancedAnalysis();
        console.log('Analysis Result:', analysis);
        
        // Display results
        document.body.innerHTML += `
            <h3>Analysis Results:</h3>
            <p><strong>Match Score:</strong> ${analysis.matchScore}%</p>
            <p><strong>Matched Skills:</strong> ${analysis.matchedSkills.join(', ')}</p>
            <p><strong>Missing Skills:</strong> ${analysis.missingSkills.join(', ')}</p>
            <p><strong>Experience Years:</strong> ${analysis.experienceYears}</p>
            <p><strong>Recommendation:</strong> ${analysis.recommendation}</p>
        `;
    </script>
</body>
</html>