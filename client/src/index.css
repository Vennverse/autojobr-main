/* Import custom animations first */
@import './styles/animations.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Performance & SEO Optimizations */
@layer base {
  /* Improve font loading performance */
  html {
    font-display: swap;
    font-feature-settings: "liga" 1, "calt" 1, "kern" 1;
    scroll-behavior: smooth;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Performance optimizations */
  * {
    box-sizing: border-box;
  }
  
  /* Critical CSS for above-the-fold content */
  body {
    margin: 0;
    padding: 0;
    min-height: 100vh;
    line-height: 1.5;
    -webkit-text-size-adjust: 100%;
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    overflow-x: hidden; /* Prevent horizontal scroll */
    width: 100%;
  }
  
  /* Ensure all containers don't exceed viewport width */
  #root {
    width: 100%;
    min-height: 100vh;
    overflow-x: hidden;
  }
  
  /* Mobile-specific fixes */
  @media (max-width: 768px) {
    html {
      font-size: 16px; /* Prevent zoom on iOS */
    }
    
    body {
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -webkit-tap-highlight-color: transparent;
    }
    
    /* Ensure no horizontal scroll */
    * {
      max-width: 100vw;
    }
    
    /* Fix for mobile viewport height */
    .min-h-screen {
      min-height: 100vh;
      min-height: 100dvh; /* Dynamic viewport height */
    }
  }
  
  /* Accessibility improvements */
  :focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }
  
  /* Smooth transitions for better UX */
  a, button {
    transition: all 0.2s ease-in-out;
  }
  
  /* Auto-sliding animation for recruiter features */
  @keyframes slideLoop {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-66.666%); /* Move by 2/3 to show next 2 slides */
    }
  }
  
  .animate-slideLoop {
    animation: slideLoop 15s linear infinite;
  }
  
  /* Pause animation on hover */
  .animate-slideLoop:hover {
    animation-play-state: paused;
  }
  
  /* Image optimization */
  img {
    max-width: 100%;
    height: auto;
    display: block;
  }
  
  /* Prevent layout shift */
  .loading-skeleton {
    background: linear-gradient(90deg, 
      hsl(var(--muted)) 25%, 
      transparent 37%, 
      hsl(var(--muted)) 63%);
    background-size: 400% 100%;
    animation: skeleton-loading 1.4s ease infinite;
  }
  
  @keyframes skeleton-loading {
    0% {
      background-position: 100% 50%;
    }
    100% {
      background-position: -100% 50%;
    }
  }
}

/* Component optimizations */
@layer components {
  /* High-performance button styles */
  .btn-primary {
    @apply bg-primary text-primary-foreground hover:bg-primary/90 
           transition-all duration-200 ease-in-out
           focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
    transform: translateZ(0); /* Hardware acceleration */
  }
  
  /* Optimized card component */
  .card-optimized {
    @apply bg-card text-card-foreground border border-border rounded-lg p-6
           shadow-sm transition-shadow duration-200 ease-in-out
           hover:shadow-md;
    will-change: transform; /* Hint for browser optimization */
  }
  
  /* Critical above-the-fold content */
  .hero-section {
    @apply min-h-screen flex items-center justify-center
           bg-gradient-to-br from-primary/5 to-secondary/5;
    content-visibility: auto;
    contain: layout style paint;
  }
}

:root {
  /* Base Background - Cream White #FFF8E7 (neutral & auspicious) */
  --background: hsl(48, 100%, 95.3%);
  --foreground: hsl(240, 10%, 3.9%);
  
  /* Muted elements - Soft Beige #F5E6CC (Ketu grounding) */
  --muted: hsl(39, 56%, 88.8%);
  --muted-foreground: hsl(240, 3.8%, 46.1%);
  
  /* Popover/Modal - Cream White */
  --popover: hsl(48, 100%, 95.3%);
  --popover-foreground: hsl(240, 10%, 3.9%);
  
  /* Cards - Cream White */
  --card: hsl(48, 100%, 95.3%);
  --card-foreground: hsl(240, 10%, 3.9%);
  
  /* Borders - Soft Beige with lower opacity */
  --border: hsl(39, 56%, 85%);
  --input: hsl(39, 56%, 85%);
  
  /* Primary - Rich Gold #FFD54F (Jupiter prosperity) */
  --primary: hsl(50, 100%, 65.1%);
  --primary-foreground: hsl(240, 10%, 3.9%);
  
  /* Secondary - Sky Blue #4FC3F7 (Venus creativity & attraction) */
  --secondary: hsl(198, 89%, 63.3%);
  --secondary-foreground: hsl(0, 0%, 98%);
  
  /* Accent - Sky Blue (same as secondary for consistency) */
  --accent: hsl(198, 89%, 63.3%);
  --accent-foreground: hsl(0, 0%, 98%);
  
  /* CTA/Destructive - Coral Orange #FF7043 (Sun & Mars strength) */
  --destructive: hsl(14, 100%, 63.3%);
  --destructive-foreground: hsl(0, 0%, 98%);
  
  /* Ring focus - Rich Gold */
  --ring: hsl(50, 100%, 65.1%);
  
  /* Chart colors - Astrological theme */
  --chart-1: hsl(50, 100%, 65.1%);  /* Rich Gold */
  --chart-2: hsl(198, 89%, 63.3%);  /* Sky Blue */
  --chart-3: hsl(14, 100%, 63.3%);  /* Coral Orange */
  --chart-4: hsl(0, 0%, 75.7%);     /* Metallic Silver */
  --chart-5: hsl(39, 56%, 88.8%);   /* Soft Beige */
  
  /* Sidebar - Soft Beige base */
  --sidebar-background: hsl(39, 56%, 92%);
  --sidebar-foreground: hsl(240, 5.3%, 26.1%);
  --sidebar-primary: hsl(50, 100%, 65.1%);
  --sidebar-primary-foreground: hsl(240, 10%, 3.9%);
  --sidebar-accent: hsl(198, 89%, 63.3%);
  --sidebar-accent-foreground: hsl(0, 0%, 98%);
  --sidebar-border: hsl(39, 56%, 85%);
  --sidebar-ring: hsl(50, 100%, 65.1%);
  --radius: 0.5rem;
}

.dark {
  /* Dark Background - Deep navy while avoiding pure black */
  --background: hsl(240, 15%, 8%);
  --foreground: hsl(48, 100%, 95.3%);
  
  /* Muted elements - Dark grey with subtle warmth */
  --muted: hsl(240, 5%, 20%);
  --muted-foreground: hsl(240, 5%, 64.9%);
  
  /* Popover/Modal - Dark background */
  --popover: hsl(240, 15%, 8%);
  --popover-foreground: hsl(48, 100%, 95.3%);
  
  /* Cards - Slightly lighter than background */
  --card: hsl(240, 10%, 12%);
  --card-foreground: hsl(48, 100%, 95.3%);
  
  /* Borders - Subtle grey */
  --border: hsl(240, 5%, 25%);
  --input: hsl(240, 5%, 25%);
  
  /* Primary - Rich Gold (unchanged for brand consistency) */
  --primary: hsl(50, 100%, 65.1%);
  --primary-foreground: hsl(240, 15%, 8%);
  
  /* Secondary - Sky Blue (slightly adjusted for dark mode) */
  --secondary: hsl(198, 85%, 55%);
  --secondary-foreground: hsl(240, 15%, 8%);
  
  /* Accent - Sky Blue */
  --accent: hsl(198, 85%, 55%);
  --accent-foreground: hsl(240, 15%, 8%);
  
  /* CTA/Destructive - Coral Orange (slightly muted for dark mode) */
  --destructive: hsl(14, 90%, 58%);
  --destructive-foreground: hsl(240, 15%, 8%);
  
  /* Ring focus - Rich Gold */
  --ring: hsl(50, 100%, 65.1%);
  
  /* Chart colors - Astrological theme adjusted for dark mode */
  --chart-1: hsl(50, 100%, 65.1%);  /* Rich Gold */
  --chart-2: hsl(198, 85%, 55%);    /* Sky Blue */
  --chart-3: hsl(14, 90%, 58%);     /* Coral Orange */
  --chart-4: hsl(0, 0%, 65%);       /* Metallic Silver (brighter) */
  --chart-5: hsl(39, 30%, 40%);     /* Soft Beige (darker) */
  
  /* Sidebar - Dark theme */
  --sidebar-background: hsl(240, 10%, 10%);
  --sidebar-foreground: hsl(48, 100%, 95.3%);
  --sidebar-primary: hsl(50, 100%, 65.1%);
  --sidebar-primary-foreground: hsl(240, 15%, 8%);
  --sidebar-accent: hsl(198, 85%, 55%);
  --sidebar-accent-foreground: hsl(240, 15%, 8%);
  --sidebar-border: hsl(240, 5%, 25%);
  --sidebar-ring: hsl(50, 100%, 65.1%);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
  }
}

/* Custom styles for AutoJobr - Astrological Theme */
.gradient-hero {
  background: linear-gradient(135deg, hsl(48, 100%, 95.3%) 0%, hsl(50, 100%, 85%) 15%, hsl(198, 89%, 93%) 100%);
}

.dark .gradient-hero {
  background: linear-gradient(135deg, hsl(240, 15%, 8%) 0%, hsl(240, 10%, 12%) 15%, hsl(198, 30%, 15%) 100%);
}

.skill-tag {
  @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  background-color: hsl(50, 100%, 85%);
  color: hsl(240, 10%, 3.9%);
  border: 1px solid hsl(50, 100%, 75%);
}

.dark .skill-tag {
  background-color: hsl(50, 100%, 20%);
  color: hsl(50, 100%, 85%);
  border: 1px solid hsl(50, 100%, 35%);
}

.status-applied {
  background-color: hsl(198, 89%, 90%);
  color: hsl(198, 89%, 25%);
}

.dark .status-applied {
  background-color: hsl(198, 89%, 15%);
  color: hsl(198, 89%, 75%);
}

.status-interview {
  background-color: hsl(50, 100%, 85%);
  color: hsl(50, 100%, 25%);
}

.dark .status-interview {
  background-color: hsl(50, 100%, 20%);
  color: hsl(50, 100%, 75%);
}

.status-offer {
  background-color: hsl(14, 100%, 90%);
  color: hsl(14, 100%, 25%);
}

.dark .status-offer {
  background-color: hsl(14, 100%, 15%);
  color: hsl(14, 100%, 75%);
}

.status-rejected {
  background-color: hsl(0, 100%, 90%);
  color: hsl(0, 100%, 30%);
}

.dark .status-rejected {
  background-color: hsl(0, 100%, 15%);
  color: hsl(0, 100%, 75%);
}

.status-under-review {
  background-color: hsl(39, 56%, 85%);
  color: hsl(39, 56%, 25%);
}

.dark .status-under-review {
  background-color: hsl(39, 56%, 20%);
  color: hsl(39, 56%, 75%);
}

.match-score-excellent {
  background-color: hsl(50, 100%, 85%);
  color: hsl(50, 100%, 25%);
}

.dark .match-score-excellent {
  background-color: hsl(50, 100%, 20%);
  color: hsl(50, 100%, 75%);
}

.match-score-good {
  background-color: hsl(198, 89%, 90%);
  color: hsl(198, 89%, 25%);
}

.dark .match-score-good {
  background-color: hsl(198, 89%, 15%);
  color: hsl(198, 89%, 75%);
}

.match-score-fair {
  background-color: hsl(39, 56%, 85%);
  color: hsl(39, 56%, 25%);
}

.dark .match-score-fair {
  background-color: hsl(39, 56%, 20%);
  color: hsl(39, 56%, 75%);
}

.match-score-poor {
  background-color: hsl(14, 100%, 90%);
  color: hsl(14, 100%, 25%);
}

.dark .match-score-poor {
  background-color: hsl(14, 100%, 15%);
  color: hsl(14, 100%, 75%);
}
