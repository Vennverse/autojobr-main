<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoJobr Extension Functionality Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #6366f1;
            padding-bottom: 10px;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            background: #fafafa;
        }
        .form-group {
            margin: 15px 0;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #374151;
        }
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.2s;
        }
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #6366f1;
        }
        .job-posting {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
        }
        .job-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .company-name {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 15px;
        }
        .job-description {
            line-height: 1.6;
            margin-bottom: 20px;
        }
        .requirements {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }
        .btn {
            background: #6366f1;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: background-color 0.2s;
            margin: 10px 10px 10px 0;
        }
        .btn:hover {
            background: #5753e3;
        }
        .btn-success {
            background: #10b981;
        }
        .btn-success:hover {
            background: #059669;
        }
        .test-status {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-weight: 600;
        }
        .status-pending {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #f59e0b;
        }
        .status-success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #10b981;
        }
        .status-error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #ef4444;
        }
        .multi-step-form {
            background: #f8fafc;
            border: 2px dashed #cbd5e1;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
        }
        .step {
            flex: 1;
            text-align: center;
            padding: 10px;
            background: #e2e8f0;
            margin: 0 5px;
            border-radius: 6px;
            font-weight: 600;
            transition: all 0.3s;
        }
        .step.active {
            background: #6366f1;
            color: white;
        }
        .step.completed {
            background: #10b981;
            color: white;
        }
        .form-step {
            display: none;
        }
        .form-step.active {
            display: block;
        }
        .file-upload-area {
            border: 2px dashed #6366f1;
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            background: #f8fafc;
            margin: 20px 0;
        }
        .skills-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        .skill-tag {
            background: #6366f1;
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        .extension-test-controls {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            z-index: 1000;
            min-width: 250px;
        }
        .test-log {
            background: #1f2937;
            color: #f9fafb;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ AutoJobr Extension Functionality Test Page</h1>
        <p>This page simulates various job application scenarios to test the AutoJobr Chrome extension functionality.</p>
        
        <!-- Extension Test Controls -->
        <div class="extension-test-controls">
            <h3>Extension Test Controls</h3>
            <button class="btn" onclick="testExtensionDetection()">üîç Test Job Detection</button>
            <button class="btn" onclick="testAutoFill()">‚ö° Test Auto-Fill</button>
            <button class="btn" onclick="testFormProgression()">üîÑ Test Multi-Step</button>
            <div id="test-log" class="test-log"></div>
        </div>

        <!-- Simulated Job Posting -->
        <div class="job-posting">
            <div class="job-title">Senior Full Stack Developer</div>
            <div class="company-name">TechCorp Solutions</div>
            <div class="job-description">
                We are seeking a talented Senior Full Stack Developer to join our dynamic team. 
                You will be responsible for developing scalable web applications using modern technologies 
                including React, Node.js, and PostgreSQL. This is an excellent opportunity to work on 
                cutting-edge projects and grow your career in a supportive environment.
            </div>
            <div class="requirements">
                <strong>Requirements:</strong>
                <ul>
                    <li>5+ years of experience in JavaScript and React</li>
                    <li>Strong knowledge of Node.js and Express</li>
                    <li>Experience with PostgreSQL databases</li>
                    <li>Bachelor's degree in Computer Science or related field</li>
                    <li>Excellent problem-solving skills</li>
                </ul>
            </div>
        </div>

        <!-- Test Status Display -->
        <div id="test-status" class="test-status status-pending">
            üîÑ Ready to test extension functionality. Click the buttons above to start testing.
        </div>

        <!-- Basic Application Form -->
        <div class="test-section">
            <h2>üìù Basic Application Form Test</h2>
            <form id="basic-form" action="#" method="post">
                <div class="form-group">
                    <label for="firstName">First Name *</label>
                    <input type="text" id="firstName" name="firstName" placeholder="Enter your first name" required>
                </div>

                <div class="form-group">
                    <label for="lastName">Last Name *</label>
                    <input type="text" id="lastName" name="lastName" placeholder="Enter your last name" required>
                </div>

                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email" placeholder="your.email@example.com" required>
                </div>

                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone" placeholder="(555) 123-4567">
                </div>

                <div class="form-group">
                    <label for="linkedin">LinkedIn Profile</label>
                    <input type="url" id="linkedin" name="linkedinUrl" placeholder="https://linkedin.com/in/yourprofile">
                </div>

                <div class="form-group">
                    <label for="github">GitHub Profile</label>
                    <input type="url" id="github" name="githubUrl" placeholder="https://github.com/yourusername">
                </div>

                <div class="form-group">
                    <label for="portfolio">Portfolio Website</label>
                    <input type="url" id="portfolio" name="portfolioUrl" placeholder="https://yourportfolio.com">
                </div>

                <button type="submit" class="btn btn-success">Submit Application</button>
            </form>
        </div>

        <!-- Multi-Step Application Form -->
        <div class="test-section">
            <h2>üîÑ Multi-Step Application Form Test</h2>
            <div class="multi-step-form">
                <div class="step-indicator">
                    <div class="step active" data-step="1">Personal Info</div>
                    <div class="step" data-step="2">Experience</div>
                    <div class="step" data-step="3">Education</div>
                    <div class="step" data-step="4">Final Review</div>
                </div>

                <form id="multi-step-form" action="#" method="post">
                    <!-- Step 1: Personal Information -->
                    <div class="form-step active" data-step="1">
                        <h3>Step 1: Personal Information</h3>
                        <div class="form-group">
                            <label for="ms-firstName">First Name *</label>
                            <input type="text" id="ms-firstName" name="firstName" placeholder="First name" required>
                        </div>
                        <div class="form-group">
                            <label for="ms-lastName">Last Name *</label>
                            <input type="text" id="ms-lastName" name="lastName" placeholder="Last name" required>
                        </div>
                        <div class="form-group">
                            <label for="ms-email">Email *</label>
                            <input type="email" id="ms-email" name="email" placeholder="Email address" required>
                        </div>
                        <div class="form-group">
                            <label for="ms-phone">Phone *</label>
                            <input type="tel" id="ms-phone" name="phone" placeholder="Phone number" required>
                        </div>
                        <div class="form-group">
                            <label for="ms-address">Address</label>
                            <textarea id="ms-address" name="address" placeholder="Full address" rows="3"></textarea>
                        </div>
                        <button type="button" class="btn" onclick="nextStep()">Next Step ‚Üí</button>
                    </div>

                    <!-- Step 2: Work Experience -->
                    <div class="form-step" data-step="2">
                        <h3>Step 2: Work Experience</h3>
                        <div class="form-group">
                            <label for="ms-currentCompany">Current Company</label>
                            <input type="text" id="ms-currentCompany" name="currentCompany" placeholder="Current company name">
                        </div>
                        <div class="form-group">
                            <label for="ms-currentTitle">Current Job Title</label>
                            <input type="text" id="ms-currentTitle" name="currentTitle" placeholder="Your current position">
                        </div>
                        <div class="form-group">
                            <label for="ms-experience">Years of Experience</label>
                            <select id="ms-experience" name="yearsExperience">
                                <option value="">Select experience level</option>
                                <option value="0-1">0-1 years</option>
                                <option value="2-3">2-3 years</option>
                                <option value="4-5">4-5 years</option>
                                <option value="6-10">6-10 years</option>
                                <option value="10+">10+ years</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="ms-skills">Technical Skills</label>
                            <textarea id="ms-skills" name="programmingLanguages" placeholder="List your programming languages and technical skills" rows="4"></textarea>
                        </div>
                        <button type="button" class="btn" onclick="prevStep()">‚Üê Previous</button>
                        <button type="button" class="btn" onclick="nextStep()">Next Step ‚Üí</button>
                    </div>

                    <!-- Step 3: Education -->
                    <div class="form-step" data-step="3">
                        <h3>Step 3: Education</h3>
                        <div class="form-group">
                            <label for="ms-university">University/College</label>
                            <input type="text" id="ms-university" name="university" placeholder="University or college name">
                        </div>
                        <div class="form-group">
                            <label for="ms-degree">Degree</label>
                            <select id="ms-degree" name="degree">
                                <option value="">Select degree</option>
                                <option value="Associate">Associate Degree</option>
                                <option value="Bachelor">Bachelor's Degree</option>
                                <option value="Master">Master's Degree</option>
                                <option value="PhD">PhD</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="ms-major">Field of Study</label>
                            <input type="text" id="ms-major" name="major" placeholder="Computer Science, Engineering, etc.">
                        </div>
                        <div class="form-group">
                            <label for="ms-gpa">GPA (Optional)</label>
                            <input type="number" id="ms-gpa" name="gpa" placeholder="3.5" min="0" max="4" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="ms-graduation">Graduation Year</label>
                            <select id="ms-graduation" name="graduationYear">
                                <option value="">Select year</option>
                                <option value="2024">2024</option>
                                <option value="2023">2023</option>
                                <option value="2022">2022</option>
                                <option value="2021">2021</option>
                                <option value="2020">2020</option>
                                <option value="2019">2019</option>
                                <option value="2018">2018</option>
                            </select>
                        </div>
                        <button type="button" class="btn" onclick="prevStep()">‚Üê Previous</button>
                        <button type="button" class="btn" onclick="nextStep()">Next Step ‚Üí</button>
                    </div>

                    <!-- Step 4: Final Review -->
                    <div class="form-step" data-step="4">
                        <h3>Step 4: Final Review & Additional Information</h3>
                        <div class="form-group">
                            <label for="ms-workAuth">Work Authorization</label>
                            <select id="ms-workAuth" name="workAuthorization">
                                <option value="">Select work authorization</option>
                                <option value="US Citizen">US Citizen</option>
                                <option value="Green Card">Green Card Holder</option>
                                <option value="H1B">H1B Visa</option>
                                <option value="F1 OPT">F1 OPT</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="ms-sponsorship">Require Sponsorship?</label>
                            <select id="ms-sponsorship" name="requireSponsorship">
                                <option value="">Select option</option>
                                <option value="No">No</option>
                                <option value="Yes">Yes</option>
                                <option value="In the future">In the future</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="ms-salary">Expected Salary</label>
                            <input type="number" id="ms-salary" name="expectedSalary" placeholder="80000" min="0">
                        </div>
                        <div class="form-group">
                            <label for="ms-coverLetter">Cover Letter</label>
                            <textarea id="ms-coverLetter" name="coverLetter" placeholder="Write your cover letter here..." rows="6"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="ms-resume">Resume Upload</label>
                            <div class="file-upload-area">
                                <input type="file" id="ms-resume" name="resume" accept=".pdf,.doc,.docx">
                                <p>üìé Upload your resume (PDF, DOC, DOCX)</p>
                            </div>
                        </div>
                        <button type="button" class="btn" onclick="prevStep()">‚Üê Previous</button>
                        <button type="submit" class="btn btn-success">Submit Application</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Workday-style Form -->
        <div class="test-section">
            <h2>üè¢ Workday-style Form Test</h2>
            <form id="workday-form" action="#" method="post">
                <div class="form-group">
                    <label for="wd-givenName">Given Name *</label>
                    <input type="text" id="wd-givenName" data-automation-id="givenName" name="givenName" placeholder="First name" required>
                </div>

                <div class="form-group">
                    <label for="wd-familyName">Family Name *</label>
                    <input type="text" id="wd-familyName" data-automation-id="familyName" name="familyName" placeholder="Last name" required>
                </div>

                <div class="form-group">
                    <label for="wd-email">Email Address *</label>
                    <input type="email" id="wd-email" data-automation-id="email" name="email" placeholder="Email address" required>
                </div>

                <div class="form-group">
                    <label for="wd-phone">Phone Number</label>
                    <input type="tel" id="wd-phone" data-automation-id="phoneNumber" name="phoneNumber" placeholder="Phone">
                </div>

                <div class="form-group">
                    <label for="wd-country">Country *</label>
                    <select id="wd-country" data-automation-id="country" name="country" required>
                        <option value="">Select Country</option>
                        <option value="US">United States</option>
                        <option value="CA">Canada</option>
                        <option value="UK">United Kingdom</option>
                        <option value="IN">India</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="wd-workAuth">Are you legally authorized to work? *</label>
                    <select id="wd-workAuth" data-automation-id="legallyAuthorizedToWork" name="workAuthorization" required>
                        <option value="">Please select</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>

                <button type="submit" class="btn btn-success">Apply Now</button>
            </form>
        </div>

        <!-- Results and Testing Log -->
        <div class="test-section">
            <h2>üß™ Extension Test Results</h2>
            <div id="extension-results" class="test-log">
                Extension test results will appear here...
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 4;

        // Multi-step form navigation
        function nextStep() {
            if (currentStep < totalSteps) {
                document.querySelector(`[data-step="${currentStep}"]`).classList.remove('active');
                document.querySelector(`.form-step[data-step="${currentStep}"]`).classList.remove('active');
                
                currentStep++;
                
                document.querySelector(`[data-step="${currentStep}"]`).classList.add('active');
                document.querySelector(`.form-step[data-step="${currentStep}"]`).classList.add('active');
                
                // Mark previous steps as completed
                for (let i = 1; i < currentStep; i++) {
                    document.querySelector(`[data-step="${i}"]`).classList.add('completed');
                }
                
                logMessage(`Navigated to step ${currentStep}`);
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                document.querySelector(`[data-step="${currentStep}"]`).classList.remove('active');
                document.querySelector(`.form-step[data-step="${currentStep}"]`).classList.remove('active');
                
                currentStep--;
                
                document.querySelector(`[data-step="${currentStep}"]`).classList.add('active');
                document.querySelector(`.form-step[data-step="${currentStep}"]`).classList.add('active');
                
                logMessage(`Navigated back to step ${currentStep}`);
            }
        }

        // Extension testing functions
        function testExtensionDetection() {
            logMessage('üîç Testing extension job detection...');
            updateTestStatus('Testing job detection functionality', 'pending');
            
            // Simulate waiting for extension detection
            setTimeout(() => {
                if (window.chrome && window.chrome.runtime) {
                    logMessage('‚úÖ Chrome extension environment detected');
                    updateTestStatus('Extension detected - job analysis should be available', 'success');
                } else {
                    logMessage('‚ùå Chrome extension not detected');
                    updateTestStatus('Extension not detected - please install and enable AutoJobr extension', 'error');
                }
            }, 1000);
        }

        function testAutoFill() {
            logMessage('‚ö° Testing auto-fill functionality...');
            updateTestStatus('Testing form auto-fill capabilities', 'pending');
            
            // Check if forms are present
            const forms = document.querySelectorAll('form');
            const inputs = document.querySelectorAll('input[type="text"], input[type="email"], input[type="tel"], select');
            
            logMessage(`Found ${forms.length} forms and ${inputs.length} fillable fields`);
            
            // Simulate auto-fill test
            setTimeout(() => {
                let filledCount = 0;
                inputs.forEach(input => {
                    if (input.value && input.value.trim()) {
                        filledCount++;
                    }
                });
                
                if (filledCount > 0) {
                    logMessage(`‚úÖ ${filledCount} fields appear to be filled`);
                    updateTestStatus(`Auto-fill test completed - ${filledCount} fields filled`, 'success');
                } else {
                    logMessage('‚ÑπÔ∏è No fields were auto-filled - this is expected without the extension');
                    updateTestStatus('Auto-fill ready - extension will populate fields when activated', 'pending');
                }
            }, 1500);
        }

        function testFormProgression() {
            logMessage('üîÑ Testing multi-step form progression...');
            updateTestStatus('Testing multi-step navigation capabilities', 'pending');
            
            // Reset to first step
            currentStep = 1;
            document.querySelectorAll('.step').forEach(step => {
                step.classList.remove('active', 'completed');
            });
            document.querySelectorAll('.form-step').forEach(step => {
                step.classList.remove('active');
            });
            
            document.querySelector('[data-step="1"]').classList.add('active');
            document.querySelector('.form-step[data-step="1"]').classList.add('active');
            
            // Simulate automatic progression
            setTimeout(() => {
                logMessage('Step 1 ‚Üí Step 2');
                nextStep();
                setTimeout(() => {
                    logMessage('Step 2 ‚Üí Step 3');
                    nextStep();
                    setTimeout(() => {
                        logMessage('Step 3 ‚Üí Step 4');
                        nextStep();
                        logMessage('‚úÖ Multi-step progression test completed');
                        updateTestStatus('Multi-step form navigation test completed successfully', 'success');
                    }, 1000);
                }, 1000);
            }, 1000);
        }

        function logMessage(message) {
            const log = document.getElementById('test-log');
            const timestamp = new Date().toLocaleTimeString();
            log.innerHTML += `[${timestamp}] ${message}\n`;
            log.scrollTop = log.scrollHeight;
            
            // Also log to extension results
            const results = document.getElementById('extension-results');
            results.innerHTML += `[${timestamp}] ${message}\n`;
            results.scrollTop = results.scrollHeight;
        }

        function updateTestStatus(message, type) {
            const status = document.getElementById('test-status');
            status.textContent = message;
            status.className = `test-status status-${type}`;
        }

        // Form submission handlers
        document.getElementById('basic-form').addEventListener('submit', function(e) {
            e.preventDefault();
            logMessage('üìù Basic form submitted');
            updateTestStatus('Basic form submission detected', 'success');
        });

        document.getElementById('multi-step-form').addEventListener('submit', function(e) {
            e.preventDefault();
            logMessage('üìù Multi-step form submitted');
            updateTestStatus('Multi-step form submission completed', 'success');
        });

        document.getElementById('workday-form').addEventListener('submit', function(e) {
            e.preventDefault();
            logMessage('üìù Workday-style form submitted');
            updateTestStatus('Workday form submission detected', 'success');
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            logMessage('üöÄ AutoJobr Extension Test Page loaded');
            logMessage('Ready to test extension functionality');
            
            // Check for extension immediately
            setTimeout(() => {
                if (window.chrome && window.chrome.runtime) {
                    logMessage('üí° Chrome extension environment available');
                } else {
                    logMessage('üí° To test fully, install AutoJobr Chrome extension');
                }
            }, 500);
        });

        // Listen for extension messages
        if (window.chrome && window.chrome.runtime) {
            window.addEventListener('message', function(event) {
                if (event.data && event.data.source === 'autojobr-extension') {
                    logMessage(`üì® Extension message: ${JSON.stringify(event.data)}`);
                }
            });
        }
    </script>
</body>
</html>